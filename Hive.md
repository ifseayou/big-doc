# Hive 

## 是什么？

* HIve是Facebook开源，一款数据仓库工具，可以将结构化的数据文件映射成一张表，提供类SQL功能。

* 本质是MapReduce在执行计算，数据存储在HDFS上
* 程序运行在Yarn上
* 适用于大数据情景下的高延迟数据分析

## hive的架构

![](img/hive/1.png)

* metastrore是存储元数据的数据库，默认使用的是derby，可以更改为mysql，元数据指的是将结构化数据映射成一张表的**表名，表所属的数据库（默认为default），表的拥有者，表的列，分区字段，表的类型（是否为外部表），表所在的目录**等

用户通过hive的客户端向hive发送SQL语句，hive收到SQL语句之后，会结合SQL语句和元数据信息生成MapReduce程序，最后提交到Yarn上执行，并将MapReduce执行的结果返回给客户端。

## Hive和数据库：

Hive只是和数据库在SQL语句上有着类似之处，only。

* hive是为数据仓库而设计的，而数据库可以应用在online应用中，有着很低的延迟
* Hive的数据都是存储在HDFS上，而数据库的数据是存储在磁盘中的
* 数据是需要经常需要updata，和Insert的，而hive读多写少，hive中的数据基本都是在加载的时候确定好的
* hive是没有索引的，查询就是全表扫描，但是可以做到多台机器并并处理，而数据库可以建立索引，在数据量不大的情形下，索引能够很快的相应出数据
* 



